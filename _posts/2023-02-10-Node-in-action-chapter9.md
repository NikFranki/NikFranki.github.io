---
layout:     post
title:      "Node.js 实战笔记 - chpter9"
date:       2023-02-10
subtitle:   ""
author:     "franki"
header-img: ""
catalog: true
tags:
    - Node.js
    - BackEnd
---

# Express 进阶使用

这个程序的名字叫做 shoutbox

实现

- 实现认证

- URL 路由

- 创建 REST API

- 处理错误

## 实现认证

- 认证用户
  
  - 存储和认证已注册用户的逻辑
  - 注册功能
  - 登录功能
  - 为用户登录请求加载用户信息的中间件

- 保存和加载用户
  
  - 用 package.json 定义程序的依赖项
  - 创建用户模型
  - 添加用 redis 加载和保存用户的逻辑
  - 用 bcrypt 增强用户密码的安全性
  - 添加逻辑用用户的登录请求进行认证

- 注册新用户
  - 将注册和登录路由映射到 URL 路径上
  - 添加显示注册表单的注册路由逻辑
  - 添加逻辑存储从表单提交上来的用户数据

- 已注册用户登录
  - 显示登录表单的路由逻辑
  - 认证从表单提交的用户数据的逻辑

- 校验用户内容提交
  - 创建一个消息模型
  - 提交与消息相关的路由
  - 创建一个消息表单
  - 添加用提交上来的表单数据创建消息的逻辑

- 实现分页
  - 设计分页 API
  - 实现分页中间件
  - 在路由中使用分页器
  - 创建分页链接模板
  - 在模板中包含分页链接
  - 让分页链接更简洁

- 创建一个公开的 REST API
  - 实现一个让用户显示、列表、移除和提交消息的 API
  - 添加基本认证
  - 实现路由
  - 提供 JSON 和 XML 响应

- 启用内容协商
  - 实现内容协商

- 错误处理
  - 处理 404 错误
  - 处理错误

## 具体代码细节

[chapter9](https://github.com/NikFranki/node-in-action/tree/master/chapter9)
